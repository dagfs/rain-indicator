[{"id":"7b0d654.e87011c","type":"function","z":"62294b3a.b4544c","name":"","func":"var data = msg.payload;\nif(data.weatherdata.forecast[0].tabular[0].time[0].$.to.endsWith(\"06:00:00\")){\n    f=0;s=1;t=2;fo=3\n} else if(data.weatherdata.forecast[0].tabular[0].time[0].$.to.endsWith(\"12:00:00\")){\n    f=3;s=0;t=1;fo=2\n}else if(data.weatherdata.forecast[0].tabular[0].time[0].$.to.endsWith(\"18:00:00\")){\n    f=2;s=3;t=0;fo=1\n}else {\n    f=1;s=2;t=3;fo=0\n}\n\nd = [];\nd[0] = data.weatherdata.forecast[0].tabular[0].time[f].precipitation[0].$.value > 0.5 ? 1 : 0\nd[1] =  data.weatherdata.forecast[0].tabular[0].time[s].precipitation[0].$.value > 0.5 ? 1 : 0\nd[2] =  data.weatherdata.forecast[0].tabular[0].time[t].precipitation[0].$.value > 0.5 ? 1 : 0\nd[3] =  data.weatherdata.forecast[0].tabular[0].time[fo].precipitation[0].$.value > 0.5 ? 1 : 0\nmsg.payload = d.join(\"\");\n//msg.payload = JSON.stringify(msg.payload)\nreturn msg","outputs":1,"noerr":0,"x":490,"y":300,"wires":[["1b73a0e3.486897"]]}]